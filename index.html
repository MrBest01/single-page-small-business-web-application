<!DOCTYPE html>

<!-- Fork this repository for free:  https://github.com/reza-azimifar -->

<html dir="ltr" lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Servicios y Consultas Duque S.L.</title>
        
        <!-- EmailJS Config loaded first -->
        <script src="emailjs-config.js" onerror="console.error('‚ùå No se pudo cargar emailjs-config.js')"></script>




        <!-- Remove these two lines below on the final edition, when you are going to upload the project online, and then run 'npm run build' in the terminal to create the final production version in the dist folder -->
        <script defer src="dist/js/app.js"></script>
        <link href="dist/js/../css/styles.css" rel="stylesheet">
        <!-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -->
    </head>

    <body>
        <!-- Toast Notification -->
        <div id="toast-notification" style="position:fixed; bottom:30px; right:30px; background:#4caf50; color:#fff; padding:1.2rem 1.5rem; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.2); z-index:9999; opacity:0; transform:translateY(50px); transition:opacity 0.4s, transform 0.4s; font-weight:500; max-width:300px; word-wrap:break-word;">
            <span id="toast-message"></span>
        </div>
        <header class="header" id="header" style="position:fixed; top:0; left:0; width:100%; z-index:100; transition:top 0.4s;">
            <nav class="nav container">
                <a class="nav__logo" href="#">Servicios y Consultas Duque S.L.</a>

                <div class="nav__menu" id="nav-menu">
                    <ul class="nav__list">
                        <li class="nav__item">
                            <a class="nav__link" href="#home">Inicio</a>
                        </li>
                        <li class="nav__item">
                            <a class="nav__link" href="#sociedades">Sociedades</a>
                        </li>
                        <li class="nav__item">
                            <a class="nav__link" href="#autonomos">Aut√≥nomos</a>
                        </li>
                        <li class="nav__item">
                            <a class="nav__link" href="#particulares">Particulares</a>
                        </li>
                        <li class="nav__item">
                            <a class="nav__link" href="#como-trabajo">C√≥mo trabajo</a>
                        </li>
                        <li class="nav__item">
                            <a class="nav__link" href="#sobre-mi">Sobre m√≠</a>
                        </li>
                        <li class="nav__item">
                            <a class="nav__link" href="#contacto">Contacto</a>
                        </li>
                        <li class="nav__item">
                            <a class="nav__link" href="#shop-cart" onclick="showCartTab(event)">
                                Carrito <span id="cart-count-nav" style="background:#1976d2; color:#fff; border-radius:50%; padding:0.2em 0.6em; font-size:0.95em; margin-left:0.4em; vertical-align:middle;">0</span>
                            </a>
                        </li>
                        <i class="change-theme bi bi-toggle-off" id="theme-button"></i>
                    </ul>
                </div>

                <div class="nav__toggle" id="nav-toggle">
                    <i class="bi bi-list-nested"></i>
                </div>

            </nav>
        </header>

        <!-- Bot√≥n Flotante de Solicitar Consulta -->
        <button id="btn-solicitar-flotante" onclick="scrollToContact()" style="position:fixed; top:100px; left:20px; background:#1976d2; color:#fff; border:none; padding:0.8rem 1rem; border-radius:8px; box-shadow:0 4px 12px rgba(25,118,210,0.4); cursor:pointer; z-index:99; font-weight:600; font-size:0.95rem; transition:all 0.3s ease; display:none;" onmouseover="this.style.background='#155aa0'; this.style.boxShadow='0 6px 16px rgba(25,118,210,0.6)';" onmouseout="this.style.background='#1976d2'; this.style.boxShadow='0 4px 12px rgba(25,118,210,0.4)';">
            üìã Solicitar Consulta
        </button>

        <section class="home section" id="home" style="padding-top:7rem;">
            <div class="home__container container">
                <article class="svg__img home__img" id="img1">
                    <!-- Imagen profesional o representativa de consultor√≠a/empresa peque√±a -->
                    <img src="src/images/consultoria.jpg" alt="Consultor√≠a Duque" style="max-width: 320px; width: 100%; border-radius: 12px; box-shadow: 0 2px 12px #0001;" onerror="this.style.display='none'">
                </article>
                <article class="home__info">
                    <h1 class="home__title">
                       Asesor√≠a para Aut√≥nomos y Sociedades
                    </h1>
                    <h2 class="home__subtitle" style="font-weight: 400; font-size: 1.3rem; margin-top: 1rem;">
                        Profesional con amplia experiencia en contabilidad, impuestos y gesti√≥n de empresas, ayudando a aut√≥nomos, sociedades y particulares a organizar sus finanzas de forma eficiente y justa.
                    </h2>
                    <p class="home__description" style="margin-top: 1.5rem;">
                        Me dedico a ayudar a empresas peque√±as, aut√≥nomos y particulares a llevar sus cuentas correctamente, optimizando costes fiscales y evitando cobros innecesarios. Con mi experiencia como director financiero y jefe de administraci√≥n de grandes empresas, pongo al d√≠a contabilidades, reviso n√≥minas y finiquitos, y organizo su econom√≠a de forma transparente y responsable.
                    </p>
                    <div style="text-align:center; margin:2rem 0;">
                        <img src="src/images/creative-asesoria-1.jpg" alt="Organizaci√≥n de cuentas" style="max-width:260px; width:100%; border-radius:10px; box-shadow:0 2px 12px #0002;" onerror="this.style.display='none'">
                        <div style="font-size:0.95rem; color:#666; margin-top:0.5rem;">Organizaci√≥n y revisi√≥n de cuentas</div>
                    </p>
                    <p class="home__description" style="margin-top: 1rem;">
                        Muchos aut√≥nomos que no tienen empleados pueden acogerse a sistemas fiscales simplificados (m√≥dulos o estimaci√≥n objetiva), pagando √∫nicamente lo que corresponde por ley. Lamentablemente, algunas asesor√≠as cobran mensualidades elevadas sin hacer nada, generando costes innecesarios. Yo reviso cada caso y recomiendo la forma fiscal m√°s adecuada para reducir gastos, siempre dentro de la legalidad y de forma transparente.
                    </p>
                    <div style="text-align:center; margin:2rem 0;">
                        <img src="src/images/creative-asesoria-2.jpg" alt="Ahorro fiscal aut√≥nomos" style="max-width:260px; width:100%; border-radius:10px; box-shadow:0 2px 12px #0002;" onerror="this.style.display='none'">
                        <div style="font-size:0.95rem; color:#666; margin-top:0.5rem;">Ahorro fiscal y asesor√≠a personalizada</div>
                    </p>
                    <a href="#services" class="button" style="margin-top: 1.5rem;">Ver mis servicios</a>
                </article>
            </div>
        </section>

        <section class="about section" id="about">
            <div class="about__container container" id="sociedades">
                <article class="about__info">
                    <h1 class="section__title">Sociedades: orden, criterio y claridad en la gesti√≥n</h1>
                    <p class="about__description">
                        Trabajo con sociedades mercantiles que no cuentan con grandes departamentos internos, pero que necesitan una contabilidad bien hecha y una visi√≥n clara de su situaci√≥n econ√≥mica. Mi experiencia como responsable financiero y jefe de administraci√≥n en multinacionales y empresas de distintos tama√±os me permite detectar cu√°ndo una contabilidad no refleja la realidad del negocio.
                    </p>
                    <div style="text-align:center; margin:2rem 0;">
                        <img src="src/images/creative-sociedades-1.jpg" alt="Contabilidad clara" style="max-width:220px; width:100%; border-radius:10px; box-shadow:0 2px 12px #0002;" onerror="this.style.display='none'">
                        <div style="font-size:0.95rem; color:#666; margin-top:0.5rem;">Contabilidad clara y ordenada</div>
                    </p>
                    <ul class="about__list">
                        <li>Las cuentas no cuadran con bancos, proveedores o clientes <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Revisi√≥n de cuentas - Sociedades')">Solicitar</button></li>
                        <li>No est√° claro si la empresa gana o pierde realmente <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('An√°lisis de rentabilidad - Sociedades')">Solicitar</button></li>
                        <li>Hay errores acumulados en la contabilidad <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Correcci√≥n de errores contables - Sociedades')">Solicitar</button></li>
                        <li>Se necesita ordenar la empresa antes de tomar decisiones importantes <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Organizaci√≥n empresarial - Sociedades')">Solicitar</button></li>
                    </ul>
                    <button class="button button-link" onclick="toggleDetails('sociedades-mas')">Ver m√°s aqu√≠</button>
                    <details id="sociedades-mas" style="margin-top:1rem;">
                        <summary style="cursor:pointer; font-weight:bold;">M√°s informaci√≥n sobre Sociedades</summary>
                        <p style="margin-top:0.7rem;">Si tienes dudas sobre la situaci√≥n de tu empresa, puedo analizar tu contabilidad y proponer soluciones pr√°cticas para mejorar la gesti√≥n y la toma de decisiones.</p>
                    </details>
                    </ul>
                    <div class="about__responsabilidad" style="margin-top:1.5rem;">
                        <strong>Responsabilidad y confianza:</strong>
                        <ul>
                            <li>Si intervengo en la contabilidad de tu empresa, me hago responsable de mi trabajo y de posibles errores, siempre actuando dentro de la legalidad.</li>
                            <li>No me desentiendo como otras asesor√≠as cuando surgen problemas con Hacienda.</li>
                            <li>Si un cliente me pide actuar de manera incorrecta o fraudulenta, no lo har√©; mi compromiso es siempre con la legalidad y la transparencia.</li>
                        </ul>
                    </div>
                </article>
                <article class="svg__img about__img" id="img2">
                    <!-- Imagen de reuni√≥n con clientes o contabilidad, opcional icono de escudo/confianza -->
                    <img src="src/images/sociedades.jpg" alt="Reuni√≥n con clientes" style="max-width: 320px; width: 100%; border-radius: 12px; box-shadow: 0 2px 12px #0001;" onerror="this.style.display='none'">
                </article>
            </div>
        </section>

        <section class="support section" id="support">
            <div class="support__container container" id="autonomos">
                <article class="support__info">
                    <h1 class="section__title">Aut√≥nomos: cuando algo no cuadra, conviene revisarlo</h1>
                    <p class="support__description">
                        Ayudo a aut√≥nomos de cualquier actividad, especialmente a quienes trabajan de forma individual y sienten que pagan mucho sin entender por qu√©. Muchos aut√≥nomos solo necesitan declarar cuatro impuestos al a√±o y cumplir con sus obligaciones b√°sicas. Cobrarles mensualidades altas sin aportar valor es innecesario. Yo reviso sus cuentas, compruebo el sistema fiscal m√°s adecuado y asesoro para pagar lo justo. Adem√°s, si intervengo, me responsabilizo de mi trabajo y de cualquier incidencia, siempre dentro de la legalidad.
                    </p>
                    <div style="text-align:center; margin:2rem 0;">
                        <img src="src/images/creative-autonomos-1.jpg" alt="Revisi√≥n fiscal aut√≥nomos" style="max-width:220px; width:100%; border-radius:10px; box-shadow:0 2px 12px #0002;" onerror="this.style.display='none'">
                        <div style="font-size:0.95rem; color:#666; margin-top:0.5rem;">Revisi√≥n fiscal para aut√≥nomos</div>
                    </p>
                    <ul class="support__list">
                        <li>Revisar si es m√°s conveniente m√≥dulo o estimaci√≥n objetiva <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Revisi√≥n fiscal - Aut√≥nomos')">Solicitar</button></li>
                        <li>Evitar pagos excesivos por servicios innecesarios <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Optimizaci√≥n de costes - Aut√≥nomos')">Solicitar</button></li>
                        <li>Asesoramiento transparente y responsable <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Asesoramiento fiscal - Aut√≥nomos')">Solicitar</button></li>
                        <li>Optimizaci√≥n real de costes fiscales <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Optimizaci√≥n fiscal - Aut√≥nomos')">Solicitar</button></li>
                        <li>Formaci√≥n pr√°ctica para gestionar facturas y obligaciones <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Formaci√≥n fiscal - Aut√≥nomos')">Solicitar</button></li>
                    </ul>
                    <button class="button button-link" onclick="toggleDetails('autonomos-mas')">Ver m√°s aqu√≠</button>
                    <details id="autonomos-mas" style="margin-top:1rem;">
                        <summary style="cursor:pointer; font-weight:bold;">M√°s informaci√≥n para Aut√≥nomos</summary>
                        <p style="margin-top:0.7rem;">Te ayudo a entender tus obligaciones fiscales y a gestionar tus facturas de forma sencilla, para que pagues solo lo justo y evites problemas futuros.</p>
                    </details>
                    </ul>
                    <div class="support__verifasura" style="margin-top:1.5rem;">
                        <h3>Verificaci√≥n de facturas y programas de Hacienda: simplificado y sin costes innecesarios</h3>
                        <p>Actualmente, Hacienda ha anunciado la obligaci√≥n de realizar verificaciones de facturas para sociedades y aut√≥nomos, aplazada hasta 2027. Muchas asesor√≠as cobran por adelantado por este tr√°mite, aunque requiere solo unos pocos pasos. Mi enfoque es pr√°ctico: puedo ense√±arte a registrar tus facturas directamente desde tu negocio o tu ordenador, utilizando el programa oficial de Hacienda, sin necesidad de comprar ning√∫n software adicional ni pagar costes innecesarios.</p>
                        <ul>
                            <li>Registro de facturas de venta de manera simple y segura</li>
                            <li>Evitar costes adicionales por servicios innecesarios</li>
                            <li>Aprender a manejar tus propias obligaciones fiscales de forma legal y correcta</li>
                            <li>Mantener el control real de tus cuentas sin depender de intermediarios</li>
                        </ul>
                    </div>
                    <a href="#contacto" class="button" style="margin-top:1.5rem;">Solicitar consulta</a>
                </article>
                <article class="svg__img support__img" id="img3">
                    <!-- Iconos de Hacienda, facturas digitales, ordenador mostrando ejemplos -->
                    <img src="src/images/autonomos.jpg" alt="Facturas digitales" style="max-width: 320px; width: 100%; border-radius: 12px; box-shadow: 0 2px 12px #0001;" onerror="this.style.display='none'">
                </article>
            </div>
        </section>

        <section class="services section" id="services">
            <h1 class="section__title section__title-center" id="particulares">Antes de pagar o firmar, conviene entender</h1>
            <div class="services__container container">
                <article class="services__info">
                    <p class="services__description">
                        Atiendo a personas particulares que se encuentran perdidas ante un requerimiento, multa, inspecci√≥n o despido. Muchas veces el problema no es solo econ√≥mico, sino de falta de informaci√≥n clara. Mi funci√≥n es revisar la documentaci√≥n, explicar la situaci√≥n y ayudar a tomar decisiones con criterio y sin miedo.
                    </p>
                    <div style="text-align:center; margin:2rem 0;">
                        <img src="src/images/creative-particulares-1.jpg" alt="Ayuda a particulares" style="max-width:220px; width:100%; border-radius:10px; box-shadow:0 2px 12px #0002;" onerror="this.style.display='none'">
                        <div style="font-size:0.95rem; color:#666; margin-top:0.5rem;">Ayuda y acompa√±amiento a particulares</div>
                    </p>
                    <ul class="services__list">
                        <li>Revisi√≥n de requerimientos <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Revisi√≥n de requerimientos - Particulares')">Solicitar</button></li>
                        <li>Multas e inspecciones <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Gesti√≥n de multas e inspecciones - Particulares')">Solicitar</button></li>
                        <li>Despidos y finiquitos <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Gesti√≥n de despidos y finiquitos - Particulares')">Solicitar</button></li>
                        <li>Escritos antes de firmar o pagar <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Revisi√≥n de escritos - Particulares')">Solicitar</button></li>
                    </ul>
                    <button class="button button-link" onclick="toggleDetails('particulares-mas')">Ver m√°s aqu√≠</button>
                    <details id="particulares-mas" style="margin-top:1rem;">
                        <summary style="cursor:pointer; font-weight:bold;">M√°s informaci√≥n para Particulares</summary>
                        <p style="margin-top:0.7rem;">Si tienes dudas legales o econ√≥micas, reviso tu documentaci√≥n y te explico las opciones antes de que tomes una decisi√≥n importante.</p>
                    </details>
                    </ul>
                </article>
                <article class="svg__img services__img" id="img4">
                    <!-- Icono de documento legal o asesor explicando a un particular -->
                    <img src="src/images/particulares.jpg" alt="Asesor√≠a a particulares" style="max-width: 320px; width: 100%; border-radius: 12px; box-shadow: 0 2px 12px #0001;" onerror="this.style.display='none'">
                </article>
            </div>
        </section>

        <section class="app section" id="app">
            <div class="app__container container" id="como-trabajo">
                <article class="app__info">
                    <h2 class="section__title">C√≥mo Trabajo</h2>
                    <p class="app__description">
                        Mi forma de trabajar se basa en tres principios: criterio profesional, claridad en la explicaci√≥n y proporcionalidad en los honorarios. Adapto el trabajo al volumen real y a la complejidad de cada caso, evitando soluciones est√°ndar que no encajan en actividades sencillas. En determinados casos, puedo desplazarme directamente a la empresa para revisar y organizar la contabilidad de forma pr√°ctica y operativa. Trabajo con cita previa, por proyectos concretos y con honorarios acordados antes de empezar.
                    </p>
                    <div style="text-align:center; margin:2rem 0;">
                        <img src="src/images/creative-comotrabajo-1.jpg" alt="Trabajo personalizado" style="max-width:220px; width:100%; border-radius:10px; box-shadow:0 2px 12px #0002;" onerror="this.style.display='none'">
                        <div style="font-size:0.95rem; color:#666; margin-top:0.5rem;">Trabajo personalizado y adaptado</div>
                    </p>
                    <ul class="app__list">
                        <li>Trabajo presencial o remoto seg√∫n necesidad <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Trabajo presencial/remoto')">Solicitar</button></li>
                        <li>Revisi√≥n de n√≥minas y finiquitos <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Revisi√≥n de n√≥minas y finiquitos')">Solicitar</button></li>
                        <li>Optimizaci√≥n de impuestos seg√∫n tu actividad <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Optimizaci√≥n de impuestos')">Solicitar</button></li>
                        <li>Formaci√≥n b√°sica para gestionar tus facturas y documentos <button class="button button-cart" style="margin-left:0.7rem; padding:0.3em 1em; font-size:0.85rem; border-radius:6px; background:#1976d2; color:#fff;" onclick="addToCart('Formaci√≥n b√°sica fiscal')">Solicitar</button></li>
                    </ul>
                    <button class="button button-link" onclick="toggleDetails('como-mas')">Ver m√°s aqu√≠</button>
                    <details id="como-mas" style="margin-top:1rem;">
                        <summary style="cursor:pointer; font-weight:bold;">M√°s sobre mi forma de trabajar</summary>
                        <p style="margin-top:0.7rem;">Cada cliente es √∫nico. Me adapto a tus necesidades y te explico cada paso para que tengas el control de tu gesti√≥n econ√≥mica.</p>
                    </details>
                    </ul>
                </article>
                <article class="svg__img app__img" id="img5">
                    <!-- Foto trabajando con port√°til o asesorando a un cliente -->
                    <img src="src/images/como-trabajo.jpg" alt="Trabajando con port√°til" style="max-width: 320px; width: 100%; border-radius: 12px; box-shadow: 0 2px 12px #0001;" onerror="this.style.display='none'">
                </article>
            </div>
        </section>

        <section class="contact section" id="contact">
            <div class="contact__container container" id="contacto">
                <div>
                    <article>
                        <h2 class="contact__title section__title">Contacta conmigo</h2>
                        <p class="contact__description">¬øTienes dudas o quieres asesoramiento para tu negocio? Rellena el formulario o utiliza los medios de contacto disponibles y te responder√© lo antes posible.</p>
                    </article>
                </div>
                <div>
                    <!-- Resumen de servicios si existen -->
                    <div id="servicios-resumen" style="display:none; margin-bottom:1.5rem; padding:1rem; background:#eff6ff; border-radius:8px; border-left:4px solid #1976d2;">
                        <h3 style="margin-top:0; color:#1976d2;">Servicios seleccionados:</h3>
                        <ul id="servicios-lista" style="list-style:none; padding:0; margin:0.5rem 0;"></ul>
                    </div>

                    <!-- Campo de consulta personalizada si no hay servicios -->
                    <div id="consulta-personalizada-container" style="display:none; margin-bottom:1rem; padding:1rem; background:#fff8e1; border-radius:8px; border-left:4px solid #ff9800;">
                        <p style="margin:0 0 0.5rem 0; color:#f57c00; font-size:0.95rem;">
                            <strong>üí° Consulta Personalizada:</strong> Si necesitas asesoramiento sobre algo espec√≠fico que no aparece en los servicios listados, cu√©ntanos tu caso.
                        </p>
                    </div>

                    <form id="contactForm" class="contact__form" style="display:flex; flex-direction:column; gap:0.7rem; max-width:400px; margin:1.5rem 0;">
                        <input type="text" id="nombre" placeholder="Nombre" required style="padding:0.7rem; border-radius:6px; border:1px solid #ccc;">
                        <input type="email" id="email" placeholder="Email" required style="padding:0.7rem; border-radius:6px; border:1px solid #ccc;">
                        <input type="tel" id="telefono" placeholder="Tel√©fono" style="padding:0.7rem; border-radius:6px; border:1px solid #ccc;">
                        <textarea id="mensaje" placeholder="Cu√©ntame tu consulta en detalle..." required style="padding:0.7rem; border-radius:6px; border:1px solid #ccc; min-height:100px;"></textarea>
                        <div id="tipo-consulta-info" style="font-size:0.85rem; color:#666; padding:0.5rem; background:#f5f5f5; border-radius:6px; text-align:center;">
                            <span id="tipo-consulta-text">Consulta personalizada</span>
                        </div>
                        <button type="button" class="button" style="margin-top:0.5rem;" onclick="sendContactEmail()">Enviar solicitud</button>
                    </form>
                </div>
                <div>
                    <article>
                        <ul class="contact__info">
                            <li class="contact__address">
                                Email:
                                <span class="contact__information">info@duqueconsultoria.es</span>
                            </li>
                            <li class="contact__address">
                                Tel√©fono:
                                <span class="contact__information">+34 XXXXXXXX</span>
                            </li>
                            <li class="contact__address">
                                WhatsApp:
                                <a href="https://wa.me/34XXXXXXXX" class="contact__information" target="_blank">Enlace directo</a>
                            </li>
                        </ul>
                    </article>
                </div>
            </div>
        </section>

        <!-- RESUMEN DE CARRITO: Secci√≥n para mostrar servicios solicitados -->
        <section class="cart-summary section" id="shop-cart" style="background:#f0f4f8; padding:3rem 0;">
            <div class="container" style="max-width:800px;">
                <h2 class="section__title section__title-center" style="margin-bottom:2rem;">Resumen de Consultas Solicitadas</h2>
                <div style="background:#fff; padding:2rem; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,0.1);">
                    <div id="cart-summary-tab" style="margin-bottom:1.5rem; padding:1rem; background:#eff6ff; border-radius:8px; border-left:4px solid #1976d2;">
                        No hay servicios solicitados a√∫n.
                    </div>
                    <div id="cart-items-display" style="margin:1.5rem 0;">
                        <h3 style="font-size:1rem; color:#333; margin-bottom:1rem;">Servicios en tu lista:</h3>
                        <ul id="cart-list-tab" style="list-style:none; padding:0; margin:0;">
                        </ul>
                    </div>
                    <div style="text-align:center; margin-top:2rem; display:flex; gap:1rem; justify-content:center; flex-wrap:wrap;">
                        <button class="button" onclick="checkoutCart()" style="padding:0.8rem 1.5rem;">Enviar Solicitud de Consulta</button>
                        <a href="#contacto" class="button" style="padding:0.8rem 1.5rem; text-decoration:none; display:inline-block;">Ir a Formulario de Contacto</a>
                    </div>
                </div>
            </div>
        </section>

        <section class="wave" id="wave">
            <svg class="wave__svg" viewBox="0 0 1440 217" xmlns="http://www.w3.org/2000/svg"><path d="M 0,400 L 0,150 C 61.561538461538476,189.33076923076922 123.12307692307695,228.66153846153844 212,206 C 300.87692307692305,183.33846153846156 417.0692307692308,98.68461538461537 499,105 C 580.9307692307692,111.31538461538463 628.6,208.6 709,213 C 789.4,217.4 902.530769230769,128.91538461538462 997,93 C 1091.469230769231,57.08461538461538 1167.2769230769231,73.73846153846154 1238,92 C 1308.7230769230769,110.26153846153846 1374.3615384615384,130.13076923076923 1440,150 L 1440,400 L 0,400 Z"></path></svg>
        </section>

        <footer class="footer section">
            <div class="footer__container container">
                <article class="footer__content">
                    <a href="#home" class="footer__logo">Servicios y Consultas Duque S.L.</a>
                    <p class="footer__description">Asesor√≠a profesional para aut√≥nomos, sociedades y particulares.</p>
                </article>
                <article class="footer__content">
                    <h3 class="footer__title">Enlaces</h3>
                    <ul class="footer__links">
                        <li><a href="#home" class="footer__link">Inicio</a></li>
                        <li><a href="#sociedades" class="footer__link">Sociedades</a></li>
                        <li><a href="#autonomos" class="footer__link">Aut√≥nomos</a></li>
                        <li><a href="#particulares" class="footer__link">Particulares</a></li>
                        <li><a href="#como-trabajo" class="footer__link">C√≥mo trabajo</a></li>
                        <li><a href="#sobre-mi" class="footer__link">Sobre m√≠</a></li>
                        <li><a href="#contacto" class="footer__link">Contacto</a></li>
                    </ul>
                </article>
                <article class="footer__content">
                    <h3 class="footer__title">Contacto</h3>
                    <ul class="footer__links">
                        <li><a href="mailto:info@duqueconsultoria.es" class="footer__link">info@duqueconsultoria.es</a></li>
                        <li><a href="tel:+34XXXXXXXX" class="footer__link">+34 XXXXXXXX</a></li>
                        <li><a href="https://wa.me/34XXXXXXXX" class="footer__link" target="_blank">WhatsApp</a></li>
                    </ul>
                </article>
                <article class="footer__content">
                    <h3 class="footer__title">Sobre m√≠</h3>
                    <p class="footer__description">M√°s de 40 a√±os de experiencia en administraci√≥n, contabilidad y fiscalidad.</p>
                </article>
                <article class="footer__social">
                    <a href="#" class="footer__social-link"><i class="bi bi-linkedin"></i></a>
                    <a href="#" class="footer__social-link"><i class="bi bi-instagram"></i></a>
                    <a href="#" class="footer__social-link"><i class="bi bi-twitter"></i></a>
                    <a href="https://wa.me/34XXXXXXXX" class="footer__social-link"><i class="bi bi-whatsapp"></i></a>
                </article>
            </div>
            <p class="footer__copy">&#169; Servicios y Consultas Duque S.L. Todos los derechos reservados.</p>
        </footer>

        <a class="scrollup" id="scroll-up" href="#home">
            <i class="scrollup__icon bi bi-arrow-up"></i>
        </a>

        <!-- SOBRE M√ç: Secci√≥n separada para destacar experiencia y valores -->
        <section class="about section" id="sobre-mi" style="background:#f8f8f8; padding:3rem 0;">
            <div class="about__container container">
                <article class="about__info">
                    <h1 class="section__title">Sobre m√≠</h1>
                    <p class="about__description">
                        Soy profesional con m√°s de 40 a√±os de experiencia en administraci√≥n, contabilidad, fiscalidad y relaciones laborales. He trabajado como responsable financiero y jefe de administraci√≥n en multinacionales y empresas de distintos tama√±os, participando en auditor√≠as, inspecciones de Hacienda, procesos de saneamiento y reorganizaci√≥n empresarial. Esa experiencia me permite aportar hoy una visi√≥n pr√°ctica, realista y honesta a sociedades, aut√≥nomos y particulares que necesitan orden y claridad en su gesti√≥n econ√≥mica. No prometo milagros ni busco volumen. Aporto experiencia, criterio y tranquilidad.
                    </p>
                    <button class="button button-link" onclick="toggleDetails('sobremi-mas')">Ver m√°s aqu√≠</button>
                    <details id="sobremi-mas" style="margin-top:1rem;">
                        <summary style="cursor:pointer; font-weight:bold;">M√°s sobre mi experiencia</summary>
                        <p style="margin-top:0.7rem;">He participado en auditor√≠as, inspecciones de Hacienda y procesos de reorganizaci√≥n, aportando siempre honestidad y soluciones pr√°cticas.</p>
                    </details>
                </article>
                <article class="svg__img about__img" id="img6">
                    <!-- Foto profesional en oficina o entorno empresarial -->
                    <img src="src/images/sobre-mi.jpg" alt="Foto profesional Duque Consultor√≠a" style="max-width: 320px; width: 100%; border-radius: 12px; box-shadow: 0 2px 12px #0001;" onerror="this.style.display='none'">
                </article>
            </div>
        </section>
    </body>

<script>
// Configuraci√≥n de correo - EmailJS (se carga desde emailjs-config.js)
const EMAIL_CONFIG = {
    SERVICE_ID: typeof EMAILJS_SERVICE_ID !== 'undefined' ? EMAILJS_SERVICE_ID : 'gmail',
    TEMPLATE_ID: typeof EMAILJS_TEMPLATE_ID !== 'undefined' ? EMAILJS_TEMPLATE_ID : 'your_template_id',
    RECIPIENT_EMAIL: typeof RECIPIENT_EMAIL !== 'undefined' ? RECIPIENT_EMAIL : 'josemanuelduquematoso@gmail.com'
};

// Funci√≥n para enviar correo de contacto
function sendContactEmail() {
    // Verificar que EmailJS est√© inicializado
    if (typeof emailjs === 'undefined') {
        showToast('‚ùå EmailJS no est√° configurado. Consulta EMAILJS_SETUP.md para instrucciones.');
        return;
    }
    
    const nombre = document.getElementById('nombre').value.trim();
    const email = document.getElementById('email').value.trim();
    const telefono = document.getElementById('telefono').value.trim();
    const mensaje = document.getElementById('mensaje').value.trim();
    
    // Validar campos
    if (!nombre || !email || !mensaje) {
        showToast('‚ùå Por favor, rellena todos los campos requeridos');
        return;
    }
    
    // Obtener servicios del carrito o de sessionStorage
    let servicesText = 'Consulta personalizada - Sin servicios espec√≠ficos';
    
    // Primero, buscar en el carrito actual
    if (cart && cart.length > 0) {
        servicesText = cart.join('\n- ');
    } else {
        // Si no hay carrito, buscar en sessionStorage
        const pendingServices = sessionStorage.getItem('pendingServices');
        if (pendingServices) {
            try {
                const services = JSON.parse(pendingServices);
                if (services && services.length > 0) {
                    servicesText = services.join('\n- ');
                }
            } catch (e) {
                console.error('Error parsing pending services:', e);
            }
        }
    }
    
    // Preparar datos para EmailJS
    const templateParams = {
        to_email: EMAIL_CONFIG.RECIPIENT_EMAIL,
        from_name: nombre,
        from_email: email,
        phone: telefono || 'No proporcionado',
        message: mensaje,
        services: servicesText,
        user_email: email  // Copiar al usuario tambi√©n
    };
    
    // Mostrar estado de env√≠o
    showToast('üìß Enviando solicitud...');
    
    // Enviar correo a trav√©s de EmailJS
    emailjs.send(EMAIL_CONFIG.SERVICE_ID, EMAIL_CONFIG.TEMPLATE_ID, templateParams)
        .then(function(response) {
            console.log('Correo enviado exitosamente', response.status, response.text);
            showToast('‚úì ¬°Solicitud enviada correctamente! Te responderemos pronto.');
            
            // Limpiar formulario
            document.getElementById('contactForm').reset();
            
            // Limpiar carrito
            cart.length = 0;
            sessionStorage.removeItem('pendingServices');
            renderCart();
            
            // Scroll a arriba
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }, function(error) {
            console.error('Error al enviar correo:', error);
            showToast('‚ö†Ô∏è Error al enviar. Intenta nuevamente o contacta directamente.');
        });
}

// Bot√≥n flotante de Solicitar Consulta
function scrollToContact() {
    const contactSection = document.getElementById('contacto');
    if (contactSection) {
        contactSection.scrollIntoView({ behavior: 'smooth' });
        // Highlight the button area briefly
        const btn = document.getElementById('btn-solicitar-flotante');
        if (btn) {
            btn.style.background = '#0d47a1';
            setTimeout(() => {
                btn.style.background = '#1976d2';
            }, 300);
        }
    }
}

// Mostrar/ocultar bot√≥n flotante seg√∫n scroll
window.addEventListener('scroll', function() {
    const btn = document.getElementById('btn-solicitar-flotante');
    const contactSection = document.getElementById('contacto');
    
    if (btn && contactSection) {
        const contactRect = contactSection.getBoundingClientRect();
        // Si la secci√≥n de contacto est√° visible en la ventana, ocultar el bot√≥n
        if (contactRect.top < window.innerHeight && contactRect.bottom > 0) {
            btn.style.display = 'none';
        } else {
            btn.style.display = 'block';
        }
    }
});

// Inicializar visibilidad del bot√≥n al cargar
window.addEventListener('DOMContentLoaded', function() {
    const btn = document.getElementById('btn-solicitar-flotante');
    const contactSection = document.getElementById('contacto');
    
    if (btn && contactSection) {
        const contactRect = contactSection.getBoundingClientRect();
        if (contactRect.top < window.innerHeight && contactRect.bottom > 0) {
            btn.style.display = 'none';
        } else {
            btn.style.display = 'block';
        }
    }
    
    renderCart();  // Esto actualizar√° la secci√≥n de contacto seg√∫n el carrito
});

// Toast notification function
function showToast(message, duration = 3000) {
    const toast = document.getElementById('toast-notification');
    const toastMessage = document.getElementById('toast-message');
    if (toast && toastMessage) {
        toastMessage.textContent = message;
        toast.style.opacity = '1';
        toast.style.transform = 'translateY(0)';
        
        setTimeout(() => {
            toast.style.opacity = '0';
            toast.style.transform = 'translateY(50px)';
        }, duration);
    }
}

// Toggle details for 'Ver m√°s aqu√≠' buttons
function toggleDetails(id) {
    var el = document.getElementById(id);
    if (el) el.open = !el.open;
}
// Smooth scroll for anchor links and close mobile menu after click
document.querySelectorAll('a.nav__link, .footer__link, .scrollup').forEach(link => {
    link.addEventListener('click', function(e) {
        const href = this.getAttribute('href');
        if (href && href.startsWith('#')) {
            const target = document.querySelector(href);
            if (target) {
                e.preventDefault();
                target.scrollIntoView({ behavior: 'smooth' });
                // Close mobile menu if open
                const navMenu = document.getElementById('nav-menu');
                if (navMenu && navMenu.classList.contains('show-menu')) {
                    navMenu.classList.remove('show-menu');
                }
            }
        }
    });
});

// Hide header on scroll down, show on scroll up
let lastScrollY = window.scrollY;
let header = document.getElementById('header');
window.addEventListener('scroll', function() {
    if (!header) header = document.getElementById('header');
    if (window.scrollY > lastScrollY && window.scrollY > 80) {
        header.style.top = '-100px'; // hide
    } else {
        header.style.top = '0'; // show
    }
    lastScrollY = window.scrollY;
});
// Modal dialog logic - REMOVED (no usado)

// Dynamic testimonials - REMOVED
// Keep empty space for reference

// Section reveal animation on scroll
const revealSections = document.querySelectorAll('.section');
const revealOnScroll = () => {
    const trigger = window.innerHeight * 0.85;
    revealSections.forEach(sec => {
        const rect = sec.getBoundingClientRect();
        if (rect.top < trigger) {
            sec.style.opacity = 1;
            sec.style.transform = 'translateY(0)';
        } else {
            sec.style.opacity = 0;
            sec.style.transform = 'translateY(40px)';
        }
    });
};
window.addEventListener('scroll', revealOnScroll);
window.addEventListener('DOMContentLoaded', revealOnScroll);
// Initial style for animation
revealSections.forEach(sec => {
    sec.style.transition = 'opacity 0.7s, transform 0.7s';
    sec.style.opacity = 0;
    sec.style.transform = 'translateY(40px)';
});

// Tienda de servicios: l√≥gica de carrito mejorada
const cart = [];
function addToCart(service) {
    if (!cart.includes(service)) {
        cart.push(service);
        renderCart();
        // Show success toast
        showToast(`‚úì ${service} agregado a tu consulta`);
    } else {
        // Show info toast if already in cart
        showToast('Este servicio ya est√° en tu lista de consultas');
    }
}
function renderCart() {
    const cartList = document.getElementById('cart-list');
    const cartSummary = document.getElementById('cart-summary');
    const cartListTab = document.getElementById('cart-list-tab');
    const cartSummaryTab = document.getElementById('cart-summary-tab');
    const cartCountNav = document.getElementById('cart-count-nav');
    const serviciosResumen = document.getElementById('servicios-resumen');
    const serviciosLista = document.getElementById('servicios-lista');
    const consultaPersonalizadaContainer = document.getElementById('consulta-personalizada-container');
    const tipoConsultaText = document.getElementById('tipo-consulta-text');
    
    if (cartList) {
        cartList.innerHTML = '';
        cart.forEach((item, idx) => {
            cartList.innerHTML += `<li style='margin-bottom:0.5rem;'>${item} <button style='margin-left:1rem; background:none; border:none; color:#d32f2f; cursor:pointer;' onclick='removeFromCart(${idx})'>Eliminar</button></li>`;
        });
    }
    if (cartSummary) {
        if (cart.length === 0) {
            cartSummary.innerHTML = 'No hay servicios en el carrito.';
        } else {
            cartSummary.innerHTML = `Servicios seleccionados: <span style='color:#1976d2;'>${cart.length}</span>`;
        }
    }
    // Visual tab summary
    if (cartListTab) {
        cartListTab.innerHTML = '';
        if (cart.length === 0) {
            cartListTab.innerHTML = '<li style="color:#999; font-style:italic;">Sin servicios solicitados a√∫n</li>';
        } else {
            cart.forEach((item, idx) => {
                cartListTab.innerHTML += `<li style='margin-bottom:0.8rem; padding:0.7rem; background:#f5f5f5; border-radius:6px; display:flex; justify-content:space-between; align-items:center;'><span>${item}</span> <button style='margin-left:1rem; background:none; border:none; color:#d32f2f; cursor:pointer; font-size:0.9rem;' title='Eliminar' onclick='removeFromCart(${idx})'>‚úï Eliminar</button></li>`;
            });
        }
    }
    if (cartSummaryTab) {
        if (cart.length === 0) {
            cartSummaryTab.innerHTML = '<strong>Estado:</strong> Sin servicios solicitados a√∫n. Haz clic en "Solicitar" para agregar consultas.';
        } else {
            cartSummaryTab.innerHTML = `<strong style='color:#1976d2;'>‚úì ${cart.length} ${cart.length === 1 ? 'consulta' : 'consultas'} solicitada${cart.length === 1 ? '' : 's'}</strong> - Listo para enviar tu solicitud de asesor√≠a.`;
        }
    }
    // Update cart count in nav
    if (cartCountNav) {
        cartCountNav.textContent = cart.length;
    }
    
    // Actualizar secci√≥n de contacto seg√∫n carrito
    if (serviciosResumen && serviciosLista && consultaPersonalizadaContainer && tipoConsultaText) {
        if (cart.length > 0) {
            // Mostrar resumen de servicios
            serviciosResumen.style.display = 'block';
            serviciosLista.innerHTML = '';
            cart.forEach(service => {
                serviciosLista.innerHTML += `<li style='margin:0.3rem 0; padding-left:1.5rem;'>‚úì ${service}</li>`;
            });
            consultaPersonalizadaContainer.style.display = 'none';
            tipoConsultaText.textContent = `Servicios: ${cart.length} solicitado${cart.length === 1 ? '' : 's'}`;
        } else {
            // Mostrar consulta personalizada
            serviciosResumen.style.display = 'none';
            consultaPersonalizadaContainer.style.display = 'block';
            tipoConsultaText.textContent = 'Consulta personalizada';
        }
    }
}
function removeFromCart(idx) {
    const removed = cart.splice(idx, 1)[0];
    renderCart();
    showToast(`‚úì ${removed} eliminado de tu solicitud`);
}
function checkoutCart() {
    if (cart.length === 0) {
        showToast('‚ùå Agrega al menos un servicio a tu solicitud');
        return;
    }
    
    // Scroll to contact form
    const contactSection = document.getElementById('contacto');
    if (contactSection) {
        contactSection.scrollIntoView({ behavior: 'smooth' });
        showToast('‚úì Rellena el formulario con tus datos para completar la solicitud');
        
        // Store cart items to send with email
        sessionStorage.setItem('pendingServices', JSON.stringify(cart));
    }
}
// Carrito tab behavior
function showCartTab(e) {
    e.preventDefault();
    const cartSection = document.getElementById('shop-cart');
    if (cartSection) {
        // Scroll to cart section and focus summary
        cartSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        setTimeout(() => {
            const cartSummaryTab = document.getElementById('cart-summary-tab');
            if (cartSummaryTab) {
                cartSummaryTab.scrollIntoView({ behavior: 'smooth', block: 'center' });
                cartSummaryTab.style.background = '#fffbe6';
                cartSummaryTab.style.transition = 'background 0.7s';
                setTimeout(() => {
                    cartSummaryTab.style.background = '#eff6ff';
                }, 1200);
            }
        }, 400);
    }
}
</script>

<!-- EmailJS Library - Load at end of body for guaranteed availability -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/index.min.js" async></script>

<!-- EmailJS Initialization - Runs after library loads -->
<script>
// Wait for EmailJS to load and initialize
function initEmailJS() {
    console.log('üîç Verificando EmailJS...');
    
    // Check if EmailJS library is available
    if (typeof window.emailjs === 'undefined') {
        console.warn('‚è≥ EmailJS a√∫n no est√° disponible, reintentando...');
        setTimeout(initEmailJS, 300);
        return;
    }
    
    // Check if config keys are available
    if (typeof window.EMAILJS_PUBLIC_KEY === 'undefined') {
        console.error('‚ùå EMAILJS_PUBLIC_KEY no definida en emailjs-config.js');
        return;
    }
    
    // Initialize EmailJS with public key
    try {
        window.emailjs.init(window.EMAILJS_PUBLIC_KEY);
        console.log('‚úì EmailJS inicializado correctamente');
        console.log('  Public Key:', window.EMAILJS_PUBLIC_KEY.substring(0, 10) + '...');
    } catch (error) {
        console.error('‚ùå Error al inicializar EmailJS:', error.message);
    }
}

// Start initialization after a brief delay to allow library to load
setTimeout(initEmailJS, 100);

// Also try on DOM ready
document.addEventListener('DOMContentLoaded', function() {
    if (typeof window.emailjs !== 'undefined') {
        console.log('‚úì EmailJS disponible en DOMContentLoaded');
    } else {
        console.warn('‚è≥ EmailJS a√∫n no disponible en DOMContentLoaded, esperando...');
        setTimeout(initEmailJS, 500);
    }
});

// Final fallback on window load
window.addEventListener('load', function() {
    if (typeof window.emailjs === 'undefined') {
        console.error('‚ùå EmailJS no se ha cargado. Verifica:');
        console.error('   - El CDN de EmailJS est√° accesible');
        console.error('   - No hay bloqueadores de scripts/publicidad');
        console.error('   - Abre F12 > Network y busca "index.min.js"');
    } else {
        console.log('‚úì EmailJS disponible en window.load');
    }
});
</script>
</html>